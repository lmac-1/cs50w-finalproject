{% extends "danceapp/layout.html" %}
{% load static %}

{% block title %}Home {% endblock %}

{% block body %}
    <nav class="navbar navbar-expand-lg navbar-light d-flex justify-content-center">

        <div id="titleContainer" class="form-inline my-2 my-lg-0">
            <!-- <button class="btn btn-sm btn-primary mr-2" id="clear_title">Clear title</button> -->
            <input id="title_input" class="form-control mr-sm-2" type="search" placeholder="Search titles" aria-label="Search">
            <button id="search_title" class="btn btn-sm btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            <!-- <button id="view_filters" class="btn btn-sm btn-outline-primary ml-2">View Filters</button> -->
        </div>

    </nav>

    <!-- <nav class="navbar navbar-extend-lg navbar-light d-flex justify-content-center">
        <div id="filters_container" class="form-inline d-none">
        
            <div class="input-group">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="inputGroupSelect01">Style</label>
                </div>
                <select class="custom-select" id="search_style">
                    <option value="" selected>All</option>
                    {% for style in styles %}
                    <option value="{{ style.pk }}">{{ style.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="input-group ml-2">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="inputGroupSelect01">Teachers</label>
                </div>
                <select class="custom-select" id="search_teacher">
                    <option value="" selected>All</option>
                    {% for teacher in teachers %}
                    <option value="{{ teacher.pk }}">{{ teacher.user.first_name }}</option>
                    {% endfor %}
                
                </select>
            </div>

        </div>
    </nav> -->

    <div class="row justify-content-center">
        <!-- FILTERS SIDE BAR -->
        <div class="col-xl-2 filterContainer filters-div">
            <!-- Style -->
            <div class="form-group pt-3">
                <label for="search_style">Style</label>
                <select class="form-control" id="search_style">
                    <option value="" selected>All</option>
                    {% for style in styles %}
                    <option value="{{ style.pk }}">{{ style.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <!-- Teacher -->
            <div class="form-group pt-3">
                <label for="search_teacher">Teacher</label>
                <select class="form-control" id="search_teacher">
                    <option value="" selected>All</option>
                    {% for teacher in teachers %}
                    <option value="{{ teacher.pk }}">{{ teacher.user.first_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <!-- Level -->
            <div class="form-group pt-3">
                <label for="search_level">Level</label>
                <select id="search_level" class="form-control">
                    <option value="" selected>All</option>
                    {% for value, level in levels %}
                    <option value="{{ value }}">{{level}}</option>
                    {% endfor %}
                </select>
            </div>
            
        </div>

        <div class="d-flex flex-wrap justify-content-center align-items-center col-lg-10 containerVideos" id="videoContainer">
            {% for video in videos %}
                <a class="text-decoration-none" href="{% url 'video' video.pk %}">
                    
                    <div class="card m-2 text-dark card-box-shadow border-0" style="width: 18rem;">
                        
                            <img src="{{ video.thumbnail_url }}" class="card-img-top card-thumbnail" alt="Image for {{ video.title }}">
                        
                            <div class="card-homepage card-body">
                            
                                <div class="card-video-title card-text font-weight-bold text-left d-flex align-items-center px-3">
                                    {{ video.title }}
                                </div>
                                <div class="card-subtext d-flex justify-content-between align-items-center px-3 bg-light border-top">
                                    <div><i class="far fa-calendar-alt"></i> {{ video.class_date|date:"d/m/y"}} </div>
                                    <div><i class="fab fa-deezer"></i> {{ video.get_level_display }}</div>
                                    <div class="d-flex flex-column justify-content-center align-items-center">{% for teacher in video.teacher.all %}<div class="pb"><i class="fas fa-user pr-1"></i>{{ teacher }}</div>{% endfor %}</div>
                                </div>    
                            </div>

                    </div>
                </a>
            {% endfor %}
        </div>    
        
    </div>
    <script type="text/javascript">
        window.onresize = screenWidth;
        window.onload = screenWidth;

        function screenWidth() {
            if (window.innerWidth <= 1199) {
                document.getElementsByClassName("filterContainer")[0].classList.remove('d-block');
                document.getElementsByClassName("filterContainer")[0].classList.add('d-none');
            } else {
                document.getElementsByClassName("filterContainer")[0].classList.remove('d-none');
                document.getElementsByClassName("filterContainer")[0].classList.add('d-block');
            }
        }    
    </script>
{% endblock %}


{% block script %}
<!-- <script src="{% static 'danceapp/videos.js' %}"></script> -->
{% endblock %}